<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Test Constitución Española 1978 - TAI</title>
  <style>
    .correcta {
      color: green;
      font-weight: bold;
    }
    .incorrecta {
      color: red;
      font-weight: bold;
    }
    .feedback {
      margin-top: 4px;
      font-size: 0.9em;
    }
    #resultado {
      margin-top: 20px;
      padding: 10px;
      border: 1px solid #ccc;
      max-width: 600px;
    }
  </style>
</head>
<body>
  <h1>Test Constitución Española de 1978</h1>
  <p><strong>Instrucciones:</strong> 20 preguntas tipo test. Una sola respuesta correcta por pregunta. Por cada 3 respuestas erróneas se restará el valor de 1 respuesta correcta.</p>

  <ol>
    <li data-correct="1">
      Sobre la naturaleza de la Constitución de 1978, señale la afirmación correcta:
      <br>
      <label><input type="radio" name="q1" value="0"> Es una norma programática sin eficacia directa para los jueces.</label><br>
      <label><input type="radio" name="q1" value="1"> Es la norma suprema del ordenamiento y cualquier ley contraria puede ser declarada inconstitucional.</label><br>
      <label><input type="radio" name="q1" value="2"> Solo vincula al legislador, pero no a la Administración.</label><br>
      <label><input type="radio" name="q1" value="3"> Puede ser modificada por leyes ordinarias siempre que exista mayoría absoluta.</label>
      <div class="feedback"></div>
    </li>

    <li data-correct="2">
      ¿Cuál de las siguientes NO se considera característica general de la Constitución de 1978?
      <br>
      <label><input type="radio" name="q2" value="0"> Derivada e influida por otros textos constitucionales europeos.</label><br>
      <label><input type="radio" name="q2" value="1"> Escrita, codificada y extensa.</label><br>
      <label><input type="radio" name="q2" value="2"> Flexible, fácilmente reformable por leyes ordinarias.</label><br>
      <label><input type="radio" name="q2" value="3"> Consensuada y de origen popular.</label>
      <div class="feedback"></div>
    </li>

    <li data-correct="1">
      Indique el hito que culmina el proceso de aprobación popular de la Constitución:
      <br>
      <label><input type="radio" name="q3" value="0"> Elecciones generales del 15 de junio de 1977.</label><br>
      <label><input type="radio" name="q3" value="1"> Referéndum constitucional del 6 de diciembre de 1978.</label><br>
      <label><input type="radio" name="q3" value="2"> Publicación en el BOE del 29 de diciembre de 1978.</label><br>
      <label><input type="radio" name="q3" value="3"> Sanción del Rey de 27 de diciembre de 1978.</label>
      <div class="feedback"></div>
    </li>

    <li data-correct="1">
      ¿Cuál es el contenido del artículo 1.1 de la Constitución?
      <br>
      <label><input type="radio" name="q4" value="0"> Proclama que la soberanía nacional reside en el pueblo español.</label><br>
      <label><input type="radio" name="q4" value="1"> Define a España como Estado social y democrático de Derecho y enumera ciertos valores superiores.</label><br>
      <label><input type="radio" name="q4" value="2"> Establece la forma política del Estado español.</label><br>
      <label><input type="radio" name="q4" value="3"> Reconoce el derecho a la autonomía de nacionalidades y regiones.</label>
      <div class="feedback"></div>
    </li>

    <li data-correct="1">
      En el Estado social que diseña la Constitución, los poderes públicos:
      <br>
      <label><input type="radio" name="q5" value="0"> Se limitan a garantizar la libertad económica sin intervenir en la vida social.</label><br>
      <label><input type="radio" name="q5" value="1"> Deben intervenir activamente para promover derechos sociales y remover obstáculos a su ejercicio.</label><br>
      <label><input type="radio" name="q5" value="2"> No tienen obligaciones específicas en materia de vivienda, sanidad o trabajo.</label><br>
      <label><input type="radio" name="q5" value="3"> Solo pueden actuar cuando lo autorice expresamente una ley orgánica.</label>
      <div class="feedback"></div>
    </li>

    <li data-correct="2">
      En la Constitución Española, la soberanía nacional:
      <br>
      <label><input type="radio" name="q6" value="0"> Reside en las Cortes Generales.</label><br>
      <label><input type="radio" name="q6" value="1"> Reside en el Rey como Jefe del Estado.</label><br>
      <label><input type="radio" name="q6" value="2"> Reside en el pueblo español, del que emanan los poderes del Estado.</label><br>
      <label><input type="radio" name="q6" value="3"> Reside en el Gobierno y se ejerce a través del Presidente.</label>
      <div class="feedback"></div>
    </li>

    <li data-correct="1">
      Señale la afirmación correcta sobre la Monarquía parlamentaria según la Constitución:
      <br>
      <label><input type="radio" name="q7" value="0"> El Rey ejerce el poder ejecutivo y puede dictar leyes por decreto sin control.</label><br>
      <label><input type="radio" name="q7" value="1"> El Rey simboliza la unidad del Estado y ejerce funciones de arbitraje y moderación.</label><br>
      <label><input type="radio" name="q7" value="2"> El Rey tiene derecho de veto absoluto sobre las leyes aprobadas por las Cortes Generales.</label><br>
      <label><input type="radio" name="q7" value="3"> El Rey es elegido por sufragio universal para mandatos de seis años.</label>
      <div class="feedback"></div>
    </li>

    <li data-correct="1">
      Según el artículo 2 de la Constitución, ¿qué formulación es correcta?
      <br>
      <label><input type="radio" name="q8" value="0"> España es un Estado federal compuesto por repúblicas y regiones.</label><br>
      <label><input type="radio" name="q8" value="1"> La Constitución se fundamenta en la indisoluble unidad de la Nación española y reconoce el derecho a la autonomía de nacionalidades y regiones.</label><br>
      <label><input type="radio" name="q8" value="2"> Se reconoce el derecho de autodeterminación de las nacionalidades.</label><br>
      <label><input type="radio" name="q8" value="3"> La unidad de la Nación española puede ser limitada por los Estatutos de Autonomía.</label>
      <div class="feedback"></div>
    </li>

    <li data-correct="2">
      En relación con la estructura territorial, ¿cuál de las siguientes opciones es correcta?
      <br>
      <label><input type="radio" name="q9" value="0"> El Estado solo se organiza en Comunidades Autónomas, sin referencia a municipios ni provincias.</label><br>
      <label><input type="radio" name="q9" value="1"> La Constitución no garantiza autonomía a ningún ente territorial.</label><br>
      <label><input type="radio" name="q9" value="2"> El Estado se organiza en municipios, provincias y Comunidades Autónomas, con autonomía para la gestión de sus intereses.</label><br>
      <label><input type="radio" name="q9" value="3"> Solo las provincias gozan de autonomía política y legislativa.</label>
      <div class="feedback"></div>
    </li>

    <li data-correct="1">
      ¿Cuál de los siguientes se incluye expresamente como valor superior del ordenamiento jurídico?
      <br>
      <label><input type="radio" name="q10" value="0"> Seguridad jurídica.</label><br>
      <label><input type="radio" name="q10" value="1"> Libertad.</label><br>
      <label><input type="radio" name="q10" value="2"> Propiedad privada.</label><br>
      <label><input type="radio" name="q10" value="3"> Unidad de mercado.</label>
      <div class="feedback"></div>
    </li>

    <li data-correct="1">
      El artículo 14 de la Constitución proclama principalmente:
      <br>
      <label><input type="radio" name="q11" value="0"> El derecho a la vida y a la integridad física.</label><br>
      <label><input type="radio" name="q11" value="1"> La igualdad de todos los españoles ante la ley sin discriminación por determinadas circunstancias.</label><br>
      <label><input type="radio" name="q11" value="2"> La libertad ideológica y religiosa.</label><br>
      <label><input type="radio" name="q11" value="3"> El derecho a la tutela judicial efectiva.</label>
      <div class="feedback"></div>
    </li>

    <li data-correct="3">
      Indique cuál de los siguientes derechos NO pertenece a los de ámbito personal del artículo 15 y siguientes:
      <br>
      <label><input type="radio" name="q12" value="0"> Derecho a la vida e integridad física y moral.</label><br>
      <label><input type="radio" name="q12" value="1"> Libertad ideológica y religiosa.</label><br>
      <label><input type="radio" name="q12" value="2"> Derecho al honor, intimidad y propia imagen.</label><br>
      <label><input type="radio" name="q12" value="3"> Derecho de asociación.</label>
      <div class="feedback"></div>
    </li>

    <li data-correct="1">
      La inviolabilidad del domicilio se recoge en:
      <br>
      <label><input type="radio" name="q13" value="0"> Artículo 17.1.</label><br>
      <label><input type="radio" name="q13" value="1"> Artículo 18.2.</label><br>
      <label><input type="radio" name="q13" value="2"> Artículo 20.1.a).</label><br>
      <label><input type="radio" name="q13" value="3"> Artículo 27.1.</label>
      <div class="feedback"></div>
    </li>

    <li data-correct="1">
      El procedimiento de habeas corpus se establece como garantía de:
      <br>
      <label><input type="radio" name="q14" value="0"> El derecho a la educación.</label><br>
      <label><input type="radio" name="q14" value="1"> La libertad y seguridad personales frente a detenciones ilegales.</label><br>
      <label><input type="radio" name="q14" value="2"> El derecho a la libertad de expresión.</label><br>
      <label><input type="radio" name="q14" value="3"> La libertad de circulación.</label>
      <div class="feedback"></div>
    </li>

    <li data-correct="2">
      ¿Qué derecho fundamental protege el artículo 20 de la Constitución?
      <br>
      <label><input type="radio" name="q15" value="0"> El derecho de reunión pacífica y sin armas.</label><br>
      <label><input type="radio" name="q15" value="1"> El derecho de petición.</label><br>
      <label><input type="radio" name="q15" value="2"> La libertad de expresión, de producción y creación, y de información.</label><br>
      <label><input type="radio" name="q15" value="3"> La libertad sindical.</label>
      <div class="feedback"></div>
    </li>

    <li data-correct="2">
      Seleccione la opción correcta sobre el derecho de reunión del artículo 21:
      <br>
      <label><input type="radio" name="q16" value="0"> Requiere siempre autorización previa de la autoridad gubernativa.</label><br>
      <label><input type="radio" name="q16" value="1"> Es un derecho que solo pueden ejercer los partidos políticos.</label><br>
      <label><input type="radio" name="q16" value="2"> No requiere autorización previa y solo puede prohibirse por motivos de orden público debidamente justificados.</label><br>
      <label><input type="radio" name="q16" value="3"> Únicamente se reconoce en lugares cerrados.</label>
      <div class="feedback"></div>
    </li>

    <li data-correct="1">
      El artículo 24 de la Constitución garantiza, entre otros, el derecho:
      <br>
      <label><input type="radio" name="q17" value="0"> A la libertad de empresa.</label><br>
      <label><input type="radio" name="q17" value="1"> A la tutela judicial efectiva sin indefensión.</label><br>
      <label><input type="radio" name="q17" value="2"> A la educación básica gratuita.</label><br>
      <label><input type="radio" name="q17" value="3"> A fundar sindicatos.</label>
      <div class="feedback"></div>
    </li>

    <li data-correct="1">
      Entre las garantías de los derechos fundamentales de la Sección 1.ª del Capítulo II se encuentra:
      <br>
      <label><input type="radio" name="q18" value="0"> La posibilidad de regularlos mediante reglamentos administrativos.</label><br>
      <label><input type="radio" name="q18" value="1"> La reserva de ley orgánica para su desarrollo y el recurso de amparo ante el Tribunal Constitucional.</label><br>
      <label><input type="radio" name="q18" value="2"> Su modificación directa por mayoría simple en el Congreso.</label><br>
      <label><input type="radio" name="q18" value="3"> La exclusión de control jurisdiccional ordinario.</label>
      <div class="feedback"></div>
    </li>

    <li data-correct="2">
      La suspensión general de ciertos derechos fundamentales se vincula en la Constitución:
      <br>
      <label><input type="radio" name="q19" value="0"> A la declaración de estados de alarma y sitio.</label><br>
      <label><input type="radio" name="q19" value="1"> Únicamente a la declaración de guerra por parte del Rey.</label><br>
      <label><input type="radio" name="q19" value="2"> A los estados de excepción y sitio, en los términos del artículo 55.1.</label><br>
      <label><input type="radio" name="q19" value="3"> A una mera decisión del Gobierno sin intervención parlamentaria.</label>
      <div class="feedback"></div>
    </li>

    <li data-correct="1">
      En relación con el derecho de huelga del artículo 28.2, señale la respuesta correcta:
      <br>
      <label><input type="radio" name="q20" value="0"> Es un derecho exclusivo de los sindicatos, no de los trabajadores.</label><br>
      <label><input type="radio" name="q20" value="1"> Se reconoce a los trabajadores para la defensa de sus intereses y su ejercicio debe compatibilizarse con los servicios esenciales de la comunidad.</label><br>
      <label><input type="radio" name="q20" value="2"> Se ejerce siempre de forma individual, sin necesidad de acción colectiva.</label><br>
      <label><input type="radio" name="q20" value="3"> Solo puede convocarse con autorización judicial previa.</label>
      <div class="feedback"></div>
    </li>
  </ol>

  <button id="comprobar">Comprobar</button>

  <div id="resultado"></div>

  <script>
    function comprobarTest() {
      const preguntas = document.querySelectorAll("ol > li");
      let aciertos = 0;
      let fallos = 0;
      const total = preguntas.length;

      preguntas.forEach((li, index) => {
        const correctaIndex = li.getAttribute("data-correct");
        const opciones = li.querySelectorAll("input[type=radio]");
        const feedback = li.querySelector(".feedback");

        // limpiar estilos previos
        opciones.forEach(o => {
          o.parentElement.classList.remove("correcta", "incorrecta");
        });
        feedback.textContent = "";

        let seleccion = null;
        opciones.forEach((opcion, i) => {
          if (opcion.checked) {
            seleccion = i.toString();
          }
        });

        const textoCorrecta = opciones[correctaIndex].parentElement.textContent.trim();

        if (seleccion === null) {
          // sin contestar: ni acierto ni fallo, pero mostramos la correcta si quieres
          feedback.textContent = "No has respondido. La correcta es: " + textoCorrecta;
          feedback.className = "feedback incorrecta";
          opciones[correctaIndex].parentElement.classList.add("correcta");
        } else if (seleccion === correctaIndex) {
          aciertos++;
          opciones[correctaIndex].parentElement.classList.add("correcta");
          feedback.textContent = "Respuesta correcta.";
          feedback.className = "feedback correcta";
        } else {
          fallos++;
          // marcar seleccionada en rojo
          opciones[seleccion].parentElement.classList.add("incorrecta");
          // marcar correcta en verde
          opciones[correctaIndex].parentElement.classList.add("correcta");
          feedback.textContent = "Respuesta incorrecta. La correcta es: " + textoCorrecta;
          feedback.className = "feedback incorrecta";
        }
      });

      const porcentajeAciertos = ((aciertos / total) * 100).toFixed(2);
      const porcentajeFallos = ((fallos / total) * 100).toFixed(2);

      // Aplicar penalización: por cada 3 fallos, se resta 1 acierto
      const penalizacion = Math.floor(fallos / 3);
      let notaFinal = aciertos - penalizacion;
      if (notaFinal < 0) notaFinal = 0;

      const resultadoDiv = document.getElementById("resultado");
      resultadoDiv.innerHTML = `
        <p><strong>Resultados:</strong></p>
        <ul>
          <li>Aciertos: ${aciertos} de ${total} (${porcentajeAciertos}%).</li>
          <li>Fallos: ${fallos} de ${total} (${porcentajeFallos}%).</li>
          <li>Penalización: -${penalizacion} punto(s) por ${fallos} fallo(s).</li>
          <li>Nota final (con penalización): ${notaFinal} / ${total}.</li>
        </ul>
      `;
    }

    document.getElementById("comprobar").addEventListener("click", comprobarTest);
  </script>
</body>
</html>
